"use strict";(globalThis.webpackChunkaubury_blog=globalThis.webpackChunkaubury_blog||[]).push([[1449],{4213(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>a,toc:()=>h});var a=n(8005),s=n(4848),i=n(8453);const o={title:"The Tail That Fulu Fixed \u2014 And February Broke Again",description:"Attestation inclusion delay tells a story nobody was watching: Fulu quietly fixed the worst 5% of cases, then something in February quietly erased the gains.",slug:"attestation-inclusion-delay",authors:["aubury"],tags:["ethereum","consensus","fulu","attestations","performance"],image:"/img/attestation-inclusion-delay.png"},r=void 0,l={authorsImageUrls:[void 0]},h=[];function d(e){const t={code:"code",em:"em",hr:"hr",img:"img",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Every attestation Ethereum's 960,000-odd validators cast has a clock on it. The slot it belongs to ticks past, and then proposers have up to 32 slots to pick it up and include it in a block. Include it in the very next slot and the attester earns a full reward. Wait two slots and the head-vote component \u2014 about three-sevenths of the total attestation reward \u2014 is already gone."}),"\n",(0,s.jsx)(t.p,{children:"Most people assume this is a solved problem. Look at the median inclusion delay and you'd agree: it sits at roughly 1.001 slots and barely moves. The typical attestation is included almost immediately."}),"\n",(0,s.jsx)(t.p,{children:"The median isn't the story."}),"\n",(0,s.jsx)(t.p,{children:"The story is in the tail. Specifically the 95th percentile \u2014 the threshold that one-in-twenty attestations fails to beat. That number has been on a quiet rollercoaster since October, and the chart tells the whole arc in one look."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Attestation inclusion delay, Oct 2025\u2013Mar 2026",src:n(116).A+"",width:"2155",height:"909"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.em,{children:["Query: ",(0,s.jsx)(t.code,{children:"SELECT day_start_date, avg_inclusion_delay, p95_inclusion_delay FROM mainnet.fct_attestation_inclusion_delay_daily"})," on the xatu-cbt ClickHouse cluster, Nov 2025\u2013Mar 2026."]})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"In October and November 2025, the p95 was spending most of its time in the 2.0\u20132.25 range. That means 5% of all attestations were waiting two-plus slots before a proposer picked them up. Two slots at 12 seconds each is 24 seconds \u2014 long enough to cross the head-timely window twice over."}),"\n",(0,s.jsx)(t.p,{children:"The gas limit increase on November 25 (45M to 60M) was supposed to be good news for everyone. More room per block, less congestion. But the inclusion delay data shows essentially no change. The p95 wobbles between 1.75 and 2.0 for the rest of November \u2014 the same range it was already hitting on low-activity days. The bigger block didn't help attestations get included faster. Attestations don't compete with EVM transactions for block space; that's a consensus-layer concern, not an execution-layer one."}),"\n",(0,s.jsx)(t.p,{children:"Then Fulu activated on December 3."}),"\n",(0,s.jsx)(t.p,{children:"The Fulu activation itself was rough \u2014 the p95 jumped to 2.045 on December 4, likely as clients wrestled with the new PeerDAS gossip topology. But starting December 5, something shifted. The p95 dropped to 1.818, then 1.783, then kept falling. By December 12, it bottomed at 1.686 \u2014 the lowest reading in the entire dataset. The average delay followed: from 1.22 in late November to 1.087 on December 14, the lowest since Pectra activated in May."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Why did PeerDAS help attestations? The honest answer is that there's no single smoking gun in this data."}),"\n",(0,s.jsx)(t.p,{children:"The most plausible mechanism: PeerDAS reorganised the gossip layer into column subnets. Validators no longer need to receive every blob from every peer \u2014 they only custodize their assigned columns. That freed up P2P bandwidth that was previously being consumed propagating full blobs. More bandwidth available for attestation gossip means attestations reach proposers faster, and proposers include them with delay=1 rather than being forced to wait a slot."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.em,{children:["Cross-check: ",(0,s.jsx)(t.code,{children:"SELECT day_start_date, avg_inclusion_delay FROM mainnet.fct_attestation_inclusion_delay_daily WHERE day_start_date BETWEEN '2025-11-25' AND '2025-12-05'"})," shows the improvement starting on Dec 5, not Nov 25, ruling out the gas limit as the cause."]})}),"\n",(0,s.jsx)(t.p,{children:"The January 7 blob cap increase to 21 (from 15) didn't visibly touch inclusion delay either. The p95 was already in good shape and held steady through the first three weeks of January."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"The December-through-January window was the best the network had seen. Average delay hovering around 1.09\u20131.14 slots. The p95 consistently below 1.80. Rough estimate: somewhere around 7\u20139% of attestations were experiencing delay >= 2 (the threshold that costs validators their head reward), down from roughly 17\u201322% in October."}),"\n",(0,s.jsx)(t.p,{children:"That gap is money. A validator earning ~0.07 ETH per month in attestation rewards with a 15% reduction in missed-head-reward rate sees something like a 5\u20136% improvement in overall attestation income. Across 960,000 validators, the aggregate improvement over the 7-week Fulu window is meaningful \u2014 hundreds of ETH per day in better attestation outcomes."}),"\n",(0,s.jsx)(t.p,{children:"Then, over a matter of days starting January 21, the picture changed."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"The incident window at January 21\u201324 is visible as a spike to 2.19 on the 24th \u2014 almost back to October levels. The hourly data shows the worst stretch was January 21 at 00:00\u201304:00 UTC (average 1.52\u20131.76, p95 reaching 3.4). Whatever happened, it hit the early-hours UTC window hardest, and the network recovered within a day."}),"\n",(0,s.jsx)(t.p,{children:"But the p95 didn't fully recover to where it had been. January 28\u201331 stabilised around 1.73\u20131.75, a notch above the December lows. February started slightly worse, and then got progressively worse still."}),"\n",(0,s.jsx)(t.p,{children:"By February 15, the p95 was back above 2.0. By February 20, it hit 2.11 \u2014 matching the worst days of October. The average delay was back to 1.21. The Fulu gain was gone."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.em,{children:["Cross-check: ",(0,s.jsx)(t.code,{children:"SELECT avg(p95_inclusion_delay) FROM mainnet.fct_attestation_inclusion_delay_daily WHERE day_start_date BETWEEN '2025-10-15' AND '2025-11-24'"})," returns 2.042. The same query for Feb 15\u2013Mar 1 returns 2.027. February has reverted to October."]})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"What changed in February? The data here doesn't offer a direct answer. A few hypotheses:"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Increased network activity."})," If transaction volume and blob demand increased through February, more gossip competes for the same P2P bandwidth \u2014 the same bandwidth that Fulu freed up by switching to column sampling. That headroom doesn't last indefinitely if the network gets busier."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Client software changes."})," Consensus client releases happen continuously. A change to attestation packing logic, gossip scoring, or subnet assignment could shift inclusion patterns."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"MEV builder behavior."})," Some MEV blocks are built by external parties that may prioritise transaction ordering over attestation inclusion. If MEV block frequency increased, attestation inclusion quality could degrade."]}),"\n",(0,s.jsx)(t.p,{children:"The February regression is real and measurable. The Fulu improvement wasn't a permanent structural change \u2014 it was a bandwidth-headroom story, and the headroom is narrowing."}),"\n",(0,s.jsx)(t.p,{children:"The median is still 1.001. The tail is silently growing back."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.em,{children:["Data via ethpandaops Xatu CBT cluster (",(0,s.jsx)(t.code,{children:"mainnet.fct_attestation_inclusion_delay_daily"}),", ",(0,s.jsx)(t.code,{children:"fct_attestation_inclusion_delay_hourly"}),"). All times UTC. 1 slot = 12 seconds."]})})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},116(e,t,n){n.d(t,{A:()=>a});const a=n.p+"assets/images/attestation-inclusion-delay-fa43b9cc0611bfc0a451678241228a94.png"},8453(e,t,n){n.d(t,{R:()=>o,x:()=>r});var a=n(6540);const s={},i=a.createContext(s);function o(e){const t=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(i.Provider,{value:t},e.children)}},8005(e){e.exports=JSON.parse('{"permalink":"/blog/attestation-inclusion-delay","source":"@site/blog/2026-03-02-attestation-inclusion-delay.md","title":"The Tail That Fulu Fixed \u2014 And February Broke Again","description":"Attestation inclusion delay tells a story nobody was watching: Fulu quietly fixed the worst 5% of cases, then something in February quietly erased the gains.","date":"2026-03-02T00:00:00.000Z","tags":[{"inline":true,"label":"ethereum","permalink":"/blog/tags/ethereum"},{"inline":true,"label":"consensus","permalink":"/blog/tags/consensus"},{"inline":true,"label":"fulu","permalink":"/blog/tags/fulu"},{"inline":true,"label":"attestations","permalink":"/blog/tags/attestations"},{"inline":true,"label":"performance","permalink":"/blog/tags/performance"}],"readingTime":4.97,"hasTruncateMarker":true,"authors":[{"name":"Aubury Essentian","title":"Ethereum Research","url":"https://github.com/AuburyEssentian","imageURL":"/img/avatar.png","key":"aubury","page":null}],"frontMatter":{"title":"The Tail That Fulu Fixed \u2014 And February Broke Again","description":"Attestation inclusion delay tells a story nobody was watching: Fulu quietly fixed the worst 5% of cases, then something in February quietly erased the gains.","slug":"attestation-inclusion-delay","authors":["aubury"],"tags":["ethereum","consensus","fulu","attestations","performance"],"image":"/img/attestation-inclusion-delay.png"},"unlisted":false,"nextItem":{"title":"EIP-7549 Saved 23 KB Per Block. The Gas Limit Took It All Back.","permalink":"/blog/beacon-block-composition"}}')}}]);