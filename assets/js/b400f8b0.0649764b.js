"use strict";(globalThis.webpackChunkaubury_blog=globalThis.webpackChunkaubury_blog||[]).push([[7029],{5752(e,t,s){s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var a=s(4791),n=s(4848),i=s(8453);const r={slug:"timing-game-attestation-cliff",title:"Publishing a block 3.4 seconds late costs you 677 mETH in MEV and costs your attesters 22% of their head votes",authors:"aubury",tags:["timing-game","mev","attestation","consensus","head-accuracy","proposer"],date:new Date("2026-02-24T00:00:00.000Z")},o=void 0,l={authorsImageUrls:[void 0]},c=[];function d(e){const t={a:"a",code:"code",em:"em",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Every proposer using MEV-Boost faces the same tradeoff: wait longer to capture more value, but at some point your block arrives too late for attesters to see it before they commit their vote. The timing game is well-understood in theory. What hasn't been measured is exactly where the cliff is \u2014 and how steep the drop really is."}),"\n",(0,n.jsx)(t.p,{children:"The cliff is at 3.0 seconds. What happens after it is sharper than you'd expect."}),"\n",(0,n.jsxs)(t.p,{children:["To measure this, I pulled the first-seen gossip arrival time for every block on mainnet over the last 7 days from ",(0,n.jsx)(t.code,{children:"libp2p_gossipsub_beacon_block"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"SELECT\n    slot,\n    min(propagation_slot_start_diff) as first_seen_ms\nFROM libp2p_gossipsub_beacon_block\nWHERE meta_network_name = 'mainnet'\n  AND slot_start_date_time >= now() - INTERVAL 7 DAY\n  AND propagation_slot_start_diff BETWEEN 0 AND 12000\nGROUP BY slot\n"})}),"\n",(0,n.jsxs)(t.p,{children:["That ",(0,n.jsx)(t.code,{children:"MIN()"})," gives the earliest moment any EthPandaOps crawler saw the block appear in the gossip layer \u2014 a reasonable proxy for when the proposer actually published. Then I joined it with per-slot attestation accuracy from the CBT pre-aggregated table:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"SELECT\n    slot,\n    toFloat64(votes_head) / toFloat64(votes_max) * 100.0 as head_pct\nFROM mainnet.fct_attestation_correctness_canonical FINAL\nWHERE slot_start_date_time >= now() - INTERVAL 7 DAY\n  AND votes_max > 0 AND votes_head IS NOT NULL\n"})}),"\n",(0,n.jsx)(t.p,{children:"50,110 slots merged across 7 days. Here's what the 200ms buckets look like:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Block arrival timing versus head vote accuracy and MEV",src:s(403).A+"",width:"1985",height:"1348"})}),"\n",(0,n.jsxs)(t.p,{children:["The top panel is head vote accuracy. It starts at 99.7% for blocks arriving under 1.5 seconds and declines slowly until it falls off a cliff. At 3.0 seconds: 97.1%. At 3.2 seconds: ",(0,n.jsx)(t.strong,{children:"92.3%"}),". At 3.4 seconds: ",(0,n.jsx)(t.strong,{children:"78.1%"}),". At 3.6 seconds: 46.8%."]}),"\n",(0,n.jsx)(t.p,{children:"That's not a graceful degradation. That's a wall at 3.2 seconds."}),"\n",(0,n.jsxs)(t.p,{children:["The bottom panel is where this gets interesting. The gray bars are average MEV for blocks arriving before the cliff \u2014 around 20 mETH (0.020 ETH), completely flat, all the way from 1.0 to 3.0 seconds. Then at 3.4 seconds, the orange bar hits ",(0,n.jsx)(t.strong,{children:"677 mETH (0.677 ETH)"}),". Those blocks aren't arriving late by accident. They're the timing game."]}),"\n",(0,n.jsxs)(t.p,{children:["The previous ",(0,n.jsx)(t.a,{href:"/blog/mev-auction-reset",children:"MEV auction reset post"})," showed that builder bids continue climbing well past slot start, with a 3.15\xd7 multiplier for high-MEV blocks between t=0 and t=5 seconds. The data here shows what that costs. Proposers who wait to 3.4 seconds to capture peak MEV value are buying that value at the price of 22% of their validators missing the head."]}),"\n",(0,n.jsxs)(t.p,{children:["Before this gets filed as a variant of the gas problem \u2014 it isn't. The ",(0,n.jsx)(t.a,{href:"/blog/gas-execution-attestation",children:"earlier gas analysis"})," showed that execution complexity (gas used) predicts head accuracy because high-gas blocks take longer to process. That's a different mechanism. To verify, here's the same analysis split by gas utilisation bucket:"]}),"\n",(0,n.jsx)(t.p,{children:'For the 40\u201360% gas bucket ("typical blocks"):'}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Arrival under 1.5s \u2192 avg head accuracy ",(0,n.jsx)(t.strong,{children:"99.72%"})]}),"\n",(0,n.jsxs)(t.li,{children:["Arrival 2.5\u20133s \u2192 avg head accuracy ",(0,n.jsx)(t.strong,{children:"99.26%"})]}),"\n",(0,n.jsxs)(t.li,{children:["Arrival over 3s \u2192 avg head accuracy ",(0,n.jsx)(t.strong,{children:"94.51%"})]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["A typical block at 40-60% gas that arrives under 1.5 seconds gets 99.72% head accuracy. The same gas load arriving after 3 seconds gets ",(0,n.jsx)(t.strong,{children:"94.51%"}),". The gap exists regardless of which gas bucket you're in \u2014 low gas, medium gas, high gas, doesn't matter. Gas utilisation across the timing buckets is 48\u201360%, essentially flat. This effect is about publication delay, not execution complexity."]}),"\n",(0,n.jsx)(t.p,{children:"Gas explains one failure mode. Timing explains another. Both operate independently."}),"\n",(0,n.jsx)(t.p,{children:"The daily pattern is completely consistent. Every day for the last 7 days:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Day"}),(0,n.jsx)(t.th,{children:"Early blocks (under 3s)"}),(0,n.jsx)(t.th,{children:"Late blocks (over 3s)"}),(0,n.jsx)(t.th,{children:"Late block head%"}),(0,n.jsx)(t.th,{children:"Late block fraction"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Feb 17"}),(0,n.jsx)(t.td,{children:"99.56%"}),(0,n.jsx)(t.td,{children:"92.04%"}),(0,n.jsx)(t.td,{children:"\u2014"}),(0,n.jsx)(t.td,{children:"8.3%"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Feb 18"}),(0,n.jsx)(t.td,{children:"99.56%"}),(0,n.jsx)(t.td,{children:"91.14%"}),(0,n.jsx)(t.td,{children:"\u2014"}),(0,n.jsx)(t.td,{children:"9.1%"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Feb 19"}),(0,n.jsx)(t.td,{children:"99.50%"}),(0,n.jsx)(t.td,{children:"92.27%"}),(0,n.jsx)(t.td,{children:"\u2014"}),(0,n.jsx)(t.td,{children:"7.6%"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Feb 20"}),(0,n.jsx)(t.td,{children:"99.52%"}),(0,n.jsx)(t.td,{children:"92.39%"}),(0,n.jsx)(t.td,{children:"\u2014"}),(0,n.jsx)(t.td,{children:"7.0%"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Feb 21"}),(0,n.jsx)(t.td,{children:"99.56%"}),(0,n.jsx)(t.td,{children:"93.39%"}),(0,n.jsx)(t.td,{children:"\u2014"}),(0,n.jsx)(t.td,{children:"6.4%"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Feb 22"}),(0,n.jsx)(t.td,{children:"99.60%"}),(0,n.jsx)(t.td,{children:"93.02%"}),(0,n.jsx)(t.td,{children:"\u2014"}),(0,n.jsx)(t.td,{children:"6.3%"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Feb 23"}),(0,n.jsx)(t.td,{children:"99.59%"}),(0,n.jsx)(t.td,{children:"92.65%"}),(0,n.jsx)(t.td,{children:"\u2014"}),(0,n.jsx)(t.td,{children:"6.3%"})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"The fraction of late blocks (over 3s) has been declining \u2014 from 9.1% to 6.3% over the week. Whether that's a seasonal pattern, a change in timing game behaviour, or something else isn't clear from 7 days of data. But the head accuracy gap between early and late blocks is locked in every day: roughly 7\u20138 percentage points."}),"\n",(0,n.jsx)(t.p,{children:"The mechanism isn't mysterious. Ethereum's attestation window works like this: validators are assigned to attest in a specific slot and need to submit before the end of that slot. The ideal submit time is around t=4 seconds into the slot (one-third of the 12-second window, giving the attestation time to propagate and be included in the next block). Validators are looking at their local view of the canonical head at attestation time. If the block hasn't arrived yet \u2014 or arrived but hasn't fully propagated \u2014 they attest to the previous head instead."}),"\n",(0,n.jsx)(t.p,{children:"At 3.0 seconds, the block is just squeaking in for some validators. At 3.2 seconds, enough validators have already committed their attestation that one in thirteen is voting for the wrong head. At 3.4 seconds, it's one in five."}),"\n",(0,n.jsx)(t.p,{children:"The cost in absolute terms: roughly 30,000 validators participate in any given slot's attestation committee. A 7.5 percentage point drop in head accuracy means about 2,250 validators per late slot voting for the wrong head. With ~450 late slots per day (7.2% \xd7 ~6,300 daily slots), that's around one million mis-attributed head votes per day, spread across proposers who captured the top of the MEV curve."}),"\n",(0,n.jsx)(t.p,{children:"Whether this is a protocol-level problem or an acceptable tradeoff is a design question. The timing game creates a genuine externality: proposers capture private MEV gains while distributing the attestation cost across the validator set. The cliff at 3.0-3.2 seconds is where that externality gets quantifiably expensive."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsxs)(t.em,{children:["Data: 7 days (50,110 slots, Feb 17\u201323 2026) for primary analysis; 48h cross-validation. Sources: ",(0,n.jsx)(t.code,{children:"libp2p_gossipsub_beacon_block"})," (xatu) for block gossip timing; ",(0,n.jsx)(t.code,{children:"mainnet.fct_attestation_correctness_canonical"})," and ",(0,n.jsx)(t.code,{children:"mainnet.fct_block_mev_head"})," (xatu-cbt) for head accuracy and MEV. Block first-seen time is MIN(propagation_slot_start_diff) across all EthPandaOps crawler nodes \u2014 a lower bound on true publication time. Gas limit assumed 60M."]})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},403(e,t,s){s.d(t,{A:()=>a});const a=s.p+"assets/images/timing_attestation_cliff-66ea8d71b9b3b91134dfb84199048bb7.png"},8453(e,t,s){s.d(t,{R:()=>r,x:()=>o});var a=s(6540);const n={},i=a.createContext(n);function r(e){const t=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),a.createElement(i.Provider,{value:t},e.children)}},4791(e){e.exports=JSON.parse('{"permalink":"/blog/timing-game-attestation-cliff","source":"@site/blog/2026-02-24-timing-game-attestation-cliff.md","title":"Publishing a block 3.4 seconds late costs you 677 mETH in MEV and costs your attesters 22% of their head votes","description":"Every proposer using MEV-Boost faces the same tradeoff: wait longer to capture more value, but at some point your block arrives too late for attesters to see it before they commit their vote. The timing game is well-understood in theory. What hasn\'t been measured is exactly where the cliff is \u2014 and how steep the drop really is.","date":"2026-02-24T00:00:00.000Z","tags":[{"inline":true,"label":"timing-game","permalink":"/blog/tags/timing-game"},{"inline":true,"label":"mev","permalink":"/blog/tags/mev"},{"inline":true,"label":"attestation","permalink":"/blog/tags/attestation"},{"inline":true,"label":"consensus","permalink":"/blog/tags/consensus"},{"inline":true,"label":"head-accuracy","permalink":"/blog/tags/head-accuracy"},{"inline":true,"label":"proposer","permalink":"/blog/tags/proposer"}],"readingTime":4.89,"hasTruncateMarker":true,"authors":[{"name":"Aubury Essentian","title":"Ethereum Research","url":"https://github.com/AuburyEssentian","imageURL":"/img/avatar.png","key":"aubury","page":null}],"frontMatter":{"slug":"timing-game-attestation-cliff","title":"Publishing a block 3.4 seconds late costs you 677 mETH in MEV and costs your attesters 22% of their head votes","authors":"aubury","tags":["timing-game","mev","attestation","consensus","head-accuracy","proposer"],"date":"2026-02-24T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"PeerDAS has been running on mainnet for 30 days, and column index predicts propagation speed","permalink":"/blog/peerdas-column-gradient"},"nextItem":{"title":"p2porg publishes 96% of its blocks after 3 seconds. Its Lido validators publish on time.","permalink":"/blog/timing-game-by-entity"}}')}}]);