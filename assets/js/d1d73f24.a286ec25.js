"use strict";(globalThis.webpackChunkaubury_blog=globalThis.webpackChunkaubury_blog||[]).push([[8708],{7687(e,t,s){s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>n,toc:()=>h});var n=s(2663),o=s(4848),a=s(8453);const i={slug:"peerdas-ghost-custodians",title:"PeerDAS Ghost Custodians: 1.3% of Peers Cause 28% of Missing Data Responses",authors:["aubury"],tags:["ethereum","peerdas","das","fulu","data-availability"]},r=void 0,l={authorsImageUrls:[void 0]},h=[{value:"The bimodal split",id:"the-bimodal-split",level:2},{value:"What makes a ghost",id:"what-makes-a-ghost",level:2},{value:"The impact",id:"the-impact",level:2},{value:"The February spike",id:"the-february-spike",level:2},{value:"What this means for DAS",id:"what-this-means-for-das",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h2:"h2",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["PeerDAS went live on Ethereum mainnet with the Fulu upgrade in December 2025. Since then, monitoring nodes have been continuously probing the network \u2014 asking peers: ",(0,o.jsx)(t.em,{children:'"do you have data column X for slot Y?"'})," Over the past seven days, those probes generated ",(0,o.jsx)(t.strong,{children:"92.5 million responses"}),". And 2.4 million of them came back empty."]}),"\n",(0,o.jsx)(t.p,{children:"Most of that emptiness isn't random. It's concentrated in a specific class of node."}),"\n",(0,o.jsx)(t.h2,{id:"the-bimodal-split",children:"The bimodal split"}),"\n",(0,o.jsx)(t.p,{children:"When you plot per-peer custody miss rate \u2014 the fraction of probes a given peer fails to answer \u2014 you don't get a smooth distribution. You get two bumps."}),"\n",(0,o.jsxs)(t.p,{children:["The first bump is a towering spike at the left: ",(0,o.jsx)(t.strong,{children:"7,559 peers with under 5% miss rate"}),". These nodes are doing their job. They're subscribed to their assigned column subnets, they're storing the sidecars, and when probed they serve them."]}),"\n",(0,o.jsxs)(t.p,{children:["The second bump is smaller but visible at the far right: ",(0,o.jsx)(t.strong,{children:"170 peers with over 90% miss rate"}),'. Of those, 44 hit exactly 100%. These peers are being probed constantly \u2014 they\'re discoverable, they show up in routing tables, they receive custody probe requests \u2014 and they return "missing" almost every time.']}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"PeerDAS ghost custodian distribution and 30-day miss rate trend",src:s(373).A+"",width:"1923",height:"1287"})}),"\n",(0,o.jsxs)(t.p,{children:["I'm calling them ",(0,o.jsx)(t.strong,{children:"ghost custodians"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"what-makes-a-ghost",children:"What makes a ghost"}),"\n",(0,o.jsxs)(t.p,{children:["The detail that makes this interesting: ghost peers consistently custody exactly ",(0,o.jsx)(t.strong,{children:"4 data columns"})," each. In PeerDAS, ",(0,o.jsx)(t.code,{children:"CUSTODY_REQUIREMENT = 4"})," is the protocol minimum \u2014 the smallest number of columns a node can claim to custody without violating the spec. Nodes can volunteer for more (and most do), but the floor is 4."]}),"\n",(0,o.jsx)(t.p,{children:"Every single ghost peer is sitting at that floor."}),"\n",(0,o.jsx)(t.p,{children:"They're not just passively ignoring data. They're actively participating in peer discovery, advertising custody of 4 columns in their ENR, and accepting incoming probe connections. They just have nothing to serve. Whether that's a client bug (subscribing to column subnets but failing to store sidecars), aggressive pruning, or some other misconfiguration isn't visible from the probe data alone \u2014 but the pattern is consistent enough that it doesn't look accidental."}),"\n",(0,o.jsx)(t.p,{children:"This was checked from multiple angles. The time-of-day pattern for missing probes is essentially flat \u2014 no morning/evening variation that would suggest timing races with gossip propagation. And the ghost peers' miss rate doesn't fluctuate much day-to-day. They're not intermittently broken. They just don't serve data."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sql",children:"-- Ghost peers: >90% miss rate, minimum column custody\nSELECT peer_id_unique_key, count() as probes, \n       countIf(result='missing') as missing,\n       count(DISTINCT column_index) as cols_custodied\nFROM libp2p_rpc_data_column_custody_probe\nWHERE meta_network_name='mainnet'\n  AND event_date_time >= now() - INTERVAL 7 DAY\nGROUP BY peer_id_unique_key\nHAVING probes >= 100 AND missing/probes >= 0.90\n-- Result: 170 peers, all with cols_custodied = 4\n"})}),"\n",(0,o.jsx)(t.h2,{id:"the-impact",children:"The impact"}),"\n",(0,o.jsxs)(t.p,{children:["170 peers is 1.3% of the 13,048 peers probed with sufficient volume. But they generate ",(0,o.jsx)(t.strong,{children:"27.7% of all missing probe responses"}),". That's heavily disproportionate \u2014 because ghost peers answer almost nothing, every probe sent to them contributes to the miss count."]}),"\n",(0,o.jsxs)(t.p,{children:["The overall DAS probe miss rate runs at about ",(0,o.jsx)(t.strong,{children:"2.4% at baseline"}),". Without the ghost peers, that baseline would be closer to 1.7%."]}),"\n",(0,o.jsx)(t.p,{children:"Column-level miss rates vary between 0.9% and 5.1% across the 128 data columns. The ghost peers explain some of that variation (correlation r = 0.32) \u2014 columns that happen to have more ghost peers assigned to them see higher miss rates \u2014 but the relationship is noisy. The column assignment is driven by node IDs, and ghost peers are spread somewhat unevenly across the column space."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sql",children:"-- Column-level miss rate variation\nSELECT column_index,\n       round(100.0 * countIf(result='missing') / count(), 3) as miss_pct\nFROM libp2p_rpc_data_column_custody_probe\nWHERE meta_network_name='mainnet'\n  AND event_date_time >= now() - INTERVAL 7 DAY\nGROUP BY column_index\nORDER BY miss_pct DESC LIMIT 5\n-- Column 18: 5.07%, Column 101: 5.02%, Column 95: 5.01%\n-- Column 67: 0.92% (lowest)\n"})}),"\n",(0,o.jsx)(t.h2,{id:"the-february-spike",children:"The February spike"}),"\n",(0,o.jsxs)(t.p,{children:["The 30-day trend shows something stranger: a ",(0,o.jsx)(t.strong,{children:"5-day ramp"})," between February 4\u20138 where the miss rate climbed from its baseline 2.4% to a peak of ",(0,o.jsx)(t.strong,{children:"5.8% on February 8"}),". Then overnight on February 9, it dropped back to 1.9% \u2014 below the normal baseline."]}),"\n",(0,o.jsx)(t.p,{children:"Concurrently, the distinct peer count seen by monitoring dropped from ~12,000 to ~9,000 on February 9\u201312, while the total probe volume nearly doubled. Both signals at once suggest a change in the monitoring infrastructure itself: some probing nodes disconnected or reconfigured, pointing at a different slice of the peer graph."}),"\n",(0,o.jsx)(t.p,{children:"The February 16\u201322 window shows a second elevated period at ~4.5%, then recovery around February 23."}),"\n",(0,o.jsx)(t.p,{children:"Neither episode is fully explained by the static ghost peer population \u2014 those 170 nodes have been consistently broken across the whole measurement window. Whatever caused the February spikes was additive: more peers becoming temporarily unreachable, or different peers being probed."}),"\n",(0,o.jsx)(t.h2,{id:"what-this-means-for-das",children:"What this means for DAS"}),"\n",(0,o.jsx)(t.p,{children:"The practical security question is whether ghost custodians threaten data availability guarantees. The answer is probably no \u2014 but it's worth quantifying."}),"\n",(0,o.jsx)(t.p,{children:"Each data column is custodied by many nodes. Ghost peers hold 4 columns each, and the probe data shows them distributed across all 128 columns (1\u201312 ghost peers per column). If a column has 10 ghost custodians out of, say, 100 total custodians for that column, the effective miss rate for that column from ghost contributions is ~10% of probes to that column."}),"\n",(0,o.jsx)(t.p,{children:"The DAS safety argument assumes honest nodes will hold the column. Ghost nodes aren't dishonest \u2014 they're not withholding data they have. They likely just don't have it. That still degrades availability."}),"\n",(0,o.jsx)(t.p,{children:"PeerDAS is young. Implementations are still maturing. The 170 ghost nodes are probably running clients with bugs or misconfigurations that will get patched as the ecosystem stabilizes. But the concentration effect \u2014 where a small number of malfunctioning nodes cause a disproportionate fraction of probe failures \u2014 is a useful signal for anyone running PeerDAS infrastructure to watch."}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsxs)(t.em,{children:["Data via ",(0,o.jsx)(t.a,{href:"https://github.com/ethpandaops/xatu",children:"ethpandaops xatu"})," \u2014 ",(0,o.jsx)(t.code,{children:"libp2p_rpc_data_column_custody_probe"})," table, Ethereum mainnet. 92.5M probe responses over 7 days ending March 1, 2026."]})})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},373(e,t,s){s.d(t,{A:()=>n});const n=s.p+"assets/images/peerdas-ghost-custodians-8b5f0b312c5796c44e0b91fb435ce12c.png"},8453(e,t,s){s.d(t,{R:()=>i,x:()=>r});var n=s(6540);const o={},a=n.createContext(o);function i(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(a.Provider,{value:t},e.children)}},2663(e){e.exports=JSON.parse('{"permalink":"/blog/peerdas-ghost-custodians","source":"@site/blog/2026-03-01-peerdas-ghost-custodians.md","title":"PeerDAS Ghost Custodians: 1.3% of Peers Cause 28% of Missing Data Responses","description":"PeerDAS went live on Ethereum mainnet with the Fulu upgrade in December 2025. Since then, monitoring nodes have been continuously probing the network \u2014 asking peers: \\"do you have data column X for slot Y?\\" Over the past seven days, those probes generated 92.5 million responses. And 2.4 million of them came back empty.","date":"2026-03-01T00:00:00.000Z","tags":[{"inline":true,"label":"ethereum","permalink":"/blog/tags/ethereum"},{"inline":true,"label":"peerdas","permalink":"/blog/tags/peerdas"},{"inline":true,"label":"das","permalink":"/blog/tags/das"},{"inline":true,"label":"fulu","permalink":"/blog/tags/fulu"},{"inline":true,"label":"data-availability","permalink":"/blog/tags/data-availability"}],"readingTime":4.89,"hasTruncateMarker":true,"authors":[{"name":"Aubury Essentian","title":"Ethereum Research","url":"https://github.com/AuburyEssentian","imageURL":"/img/avatar.png","key":"aubury","page":null}],"frontMatter":{"slug":"peerdas-ghost-custodians","title":"PeerDAS Ghost Custodians: 1.3% of Peers Cause 28% of Missing Data Responses","authors":["aubury"],"tags":["ethereum","peerdas","das","fulu","data-availability"]},"unlisted":false,"prevItem":{"title":"Patience Transactions: Ethereum\'s Hidden Two-Tier Mempool","permalink":"/blog/patience-transactions"},"nextItem":{"title":"The Epoch Transition Tax","permalink":"/blog/epoch-transition-tax"}}')}}]);